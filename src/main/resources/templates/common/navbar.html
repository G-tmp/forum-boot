<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- 新 Bootstrap4 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>

    <!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
    <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>

    <!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body style="   background-color: #d1d9e0;">
<!--  navbar  -->
<div th:fragment="navbar">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark  fixed-top"
         style="padding-left: 150px;padding-right: 150px">
        <!-- Brand -->
        <a class="navbar-brand" href="/">XD</a>

        <!-- Links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/">New</a>
            </li>

<!--            <li class="nav-item">-->
<!--                <a class="nav-link" href="/">Hot</a>-->
<!--            </li>-->

            <!-- Dropdown -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    Boards
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" th:each="b:${boards}" th:text="${b.name}"
                       th:href="|/board/${b.ename}|">XD</a>
                </div>
            </li>
        </ul>

        <form class="form-inline">
            <input class="form-control" type="text" placeholder="Search">
            <button class="btn btn-success" type="button">Search</button>
        </form>


        <ul class="navbar-nav " style="padding-left: 250px;">
<!--            <li class="nav-item" th:if="${loginUser == null}">-->
            <li class="nav-item" th:if="${session.loginUser == null}">
                <a class="nav-link " href="/login">Log in</a>
            </li>
<!--            <li class="nav-item" th:if="${loginUser == null}">-->
            <li class="nav-item" th:if="${session.loginUser == null}">
                <a class="nav-link " href="/register">Sign up</a>
            </li>


<!--            <li class="nav-item" th:if="${loginUser != null}">-->
            <li class="nav-item" th:if="${session.loginUser != null}">
                <a class="nav-link " href="/notify/list">message
                    <span class="badge badge-danger " id="message-box">0
                    </span>
                </a>
            </li>
            <!-- Dropdown -->
<!--            <li class="nav-item dropdown" th:if="${loginUser != null}">-->
            <li class="nav-item dropdown" th:if="${session.loginUser != null}">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
<!--                    <img th:src="${loginUser.avatar}" style="width:30px;"/>-->
                    <img th:src="${session.loginUser.avatar}" style="width:30px;"/>
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="/profile">profile</a>
                    <a class="dropdown-item" href="/logout">log out</a>
                </div>
            </li>
        </ul>

    </nav>
</div>

<!--<script src="/static/js/global.js"></script>-->
<!--<script src="/static/js/websocket.js"></script>-->
</body>
</html>